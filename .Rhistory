aa_timer <- aa %>% arrange(id, session, timestamp)
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'S-OCC104_201930_PT_I 20190415.csv'))
# file called aa S-OCC104_2019... in ad hoc folder
library(tidyverse)
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'S-OCC104_201930_PT_I 20190415.csv'))
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa S-OCC104_201930_PT_I 20190415.csv'))
cc_full <- read_csv(file.path('~', 'Data', 'ad hoc', 'cc S-OCC104_201930_PT_I 20190415.csv'))
cc <- cc_full %>% select(pk1, parent_pk1,
position, title, description, folder_ind)
prep_titles <- unique(cc$title[str_detect(cc$title, "Lecture Pre")])
cc <- cc %>% mutate(prep = if_else(title %in% prep_titles, T, F))
aa_sum <- aa %>%
select(s_id, timestamp, role, session_id, content_pk1) %>%
inner_join(cc %>%
select(content_pk1 = pk1, title, folder_ind, prep)) %>%
filter(role == 'S')
aa_timer <- aa %>% arrange(id, session, timestamp)
names(aa)
aa_timer <- aa %>% arrange(id, session_id, timestamp)
head(aa_timer)
library(lubridate)
View(aa_timer)
aa_timer$duration <- c(aa_timer$timestamp[2:nrow(aa_timer)] - aa_timer$timestamp[1:(nrow(aa_timer) - 1)], as.duration(0))
library(lakit)
aa_timer$duration <- intervals(aa_timer$timestamp)
aa_timer$s_id_to <- c(aa_timer$s_id[2 : (nrow(aa_timer) - 1)] , NA)
c(aa_timer$s_id[2 : (nrow(aa_timer) - 1)] , NA)
aa_timer$s_id_to <- c(aa_timer$s_id[2 : (nrow(aa_timer) - 1)] , NA)
aa_timer <- aa %>% arrange(id, session_id, timestamp)
aa_timer$duration <- intervals(aa_timer$timestamp)
aa_timer$s_id_to <- c(aa_timer$s_id[2 : nrow(aa_timer)] , NA)
aa_timer$session_id_to <- c(aa_timer$session_id[2 : nrow(aa_timer)], NA)
aa_timer <- aa_timer %>%
mutate(duration = if_else(session_id == session_id_to, s_id == s_id_to),
duration, 0)
aa_timer <- aa_timer %>%
mutate(duration = if_else(session_id == session_id_to & s_id == s_id_to,
duration, 0))
head(aa_timer
)
View(aa_timer)
aa_timer <- aa_timer %>%
select(s_id, role, content_pk1, duration)
aa_timer
unique(aa_timer$role)
aa_timer <- aa %>% arrange(id, session_id, timestamp)
aa_timer$duration <- intervals(aa_timer$timestamp)
aa_timer$s_id_to <- c(aa_timer$s_id[2 : nrow(aa_timer)] , NA)
aa_timer$session_id_to <- c(aa_timer$session_id[2 : nrow(aa_timer)], NA)
aa_timer <- aa_timer %>%
mutate(duration = if_else(session_id == session_id_to & s_id == s_id_to,
duration, 0))
aa_timer <- aa %>% arrange(id, session_id, timestamp)
aa_timer$duration <- intervals(aa_timer$timestamp)
aa_timer$s_id_to <- c(aa_timer$s_id[2 : nrow(aa_timer)] , NA)
aa_timer$session_id_to <- c(aa_timer$session_id[2 : nrow(aa_timer)], NA)
aa_timer <- aa_timer %>%
mutate(duration = if_else(session_id == session_id_to & s_id == s_id_to,
duration, 0))
aa_timer <- aa_timer %>%
filter(role == 'S')
aa_timer <- aa_timer %>%
filter(role == 'S') %>%
select(s_id, content_pk1, duration, timestamp) %>%
inner_join(cc %>%
select(content_pk1 = pk1, title, folder_ind, prep))
write_csv(aa_timer, path = "~/timed_data.csv")
use_r('studiosity-cc')
library(tidyverse)
cc <- read_csv(file.choose())
head(cc)
names(cc)
sum(str_detect(cc$title, "tudiosity"))
cc %>% select(course_name, course_id, title) %>% filter(str_detect(title, "tudiosity"))
length(unique(cc$course_id))
cc %>% select(course_name, course_id, title) %>% filter(str_detect(title, "tudiosity"))
library(magick)
im <- image_read(file.choose())
print(im)
image_charcoal(im)
image_charcoal(im) %>% print()
image_convolve(im) %>% print()
image_convolve(im, 'Sobol') %>% print()
image_convolve(im, 'Sobel') %>% print()
image_convolve(im, 'Sobel') %>% image_charcoal() %>%  print()
library(tidyverse)
aa <- read.csv(file.path('~', 'Data', 'ad hoc', 'aa studiosity explore.csv'))
head(aa)
aa
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa studiosity explore.csv'))
head(aa)
aa$studiosity_related <- str_detect(aa$data, "tudiosity")
aa %>% group_by(studiosity_related) %>%
tally()
aa %>% group_by(studiosity_related, subject) %>%
tally()
library(tidyverse)
df <- reread_csv(file.choose())
df <- read_csv(file.choose())
head(df)
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5)
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "Learning"))
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "Learning")) %>% View()
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "Weeks 1 - 4")) %>% View()
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "1 - 4 SCORE")) %>% View()
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "Learning Journal")) %>% View()
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "Learning Journal 1")) %>% View()
df %>% filter(str_detect(`Subject Id`, "EED"), Percentage < 0.5, str_detect(`GC Column`, "Learning Journal 5")) %>% View()
library(tidyverse)
aa <- read_csv(file.choose())
unique(aa$subject_code)
aa <- read_csv(file.choose())
unique(aa$subject_code)
unique(aa$timestamp)
unique(aa$event)
unique(aa$handle)
unique(aa$content_pk1)
use_r('ITC161_201960 aa')
use_r('ITC161_201960-aa')
head(aa)
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161_201960.csv'))
dim(unique(aa))
hEAD(AA)
head(aa)
names(aa)
unique(aa$event)
unique(aa$handle)
unique(aa$data) %>% head()
unique(aa$title)
names(aa)
unique(aa$cnthndlr_handle)
unique(aa$content_type)
unique(aa$web_url)
str_detect(aa$data, "YouTube") %>% sum()
str_detect(aa$data %>% tolower(), "YouTube") %>% sum()
str_detect(aa$data %>% tolower(), "tube") %>% sum()
names(aa$title)
unique(aa$title)
aa <- aa %>%
select(id, timestamp, subject_code, subject,
row_status, title) %>%
unique()
day(head(aa$timestamp))
lubridate::day(head(aa$timestamp))
aa_grp <- aa %>%
mutate(day = lubridate::day(timestamp)) %>%
group_by(day, title) %>%
summarise(students = length(unique(id)),
accesses = n())
aa_grp
aa_grp %>% ggplot(aes(x = day, y = access, color = title)) + geom_line()
aa_grp %>% ggplot(aes(x = day, y = accesses, color = title)) + geom_line()
aa_grp %>% ggplot(aes(x = day, y = accesses)) + geom_line()
aa_grp <- aa %>%
mutate(day = lubridate::yday(timestamp)) %>%
group_by(day, title) %>%
summarise(students = length(unique(id)),
accesses = n())
aa_grp %>% ggplot(aes(x = day, y = accesses)) + geom_line()
aa_grp %>% ggplot(aes(x = day, y = accesses)) + geom_line()+ geom_smooth()
aa_grp %>% ggplot(aes(x = day, y = students)) + geom_line()+ geom_smooth()
aa_grp_w <- aa %>%
mutate(week = lubridate::week(timestamp)) %>%
group_by(week, title) %>%
summarise(students = length(unique(id)),
accesses = n())
aa_grp_w %>% ggplot(aes(x = week, y = students)) + geom_line()+ geom_smooth()
aa_grp_w %>% ggplot(aes(x = week, y = students)) + geom_bar()
aa_grp_w %>% ggplot(aes(x = week, y = students)) + geom_count()
aa_grp_w %>% ggplot(aes(x = week, y = students)) + geom_point()
aa_grp_w %>% ggplot(aes(x = week, y = students, size = accesses)) + geom_point()
aa_grp_w %>%
ggplot(aes(x = week, y = students, size = accesses)) +
geom_point() +
facet_wrap(~ title)
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title)
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161_2019.csv'))
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161 2019.csv'))
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161 pt2.csv'))
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161 pt 2.csv'))
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161 20191008.csv'))
aa <- aa %>%
select(id, timestamp, subject_code, subject,
row_status, title) %>%
unique()
names(aa)
head(aa)
head(aa[,6:12])
aa %>% filter(str_detect(tolower(data), "tube")) %>% pull(data) %>% unique()
aa %>% filter(str_detect(tolower(data), "you")) %>% pull(data) %>% unique()
cc <- read_csv(file.path('~', 'Data', 'ad hoc', 'cc all 201930.csv'))
aa <- aa %>%
filter(subject_code == 'S-ITC161_201930_W_D')
names(cc)
names(aa)
aa <- aa %>%
rename(pk1 = content_pk1) %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url),
by = pk1)
aa <- aa %>%
rename(pk1 = content_pk1) %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url),
by = pk1)
cc
aa <- aa %>%
rename(pk1 = content_pk1)
aa
aa <- aa %>%
rename(pk1 = content_pk1) %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url),
by = pk1)
aa <- aa %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url),
by = pk1)
cc
names(cc)
aa <- aa %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url))
aa <- aa %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url),
by = 'pk1')
head(aa)
options(tibble.width = Inf)
Inf
aa
aa
options(tibble.height = 4)
aa
aa_grp_d <- aa %>%
mutate(day = lubridate::yday(timestamp)) %>%
group_by(day, title) %>%
summarise(students = length(unique(id)),
accesses = n())
names(aa)
# reading data
aa <- read_csv(file.path('~', 'Data', 'ad hoc', 'aa ITC161 20191008.csv')) %>%
rename(pk1 = content_pk1)
aa <- aa %>%
filter(subject_code == 'S-ITC161_201930_W_D') %>%
inner_join(cc %>%
select(pk1, parent_pk1, title, description, web_url),
by = 'pk1')
aa
aa_grp_d <- aa %>%
mutate(day = lubridate::yday(timestamp)) %>%
group_by(day, title) %>%
summarise(students = length(unique(id)),
accesses = n())
aa_grp_d %>% ggplot(aes(x = day, y = students)) + geom_line()+ geom_smooth()
aa_grp_w <- aa %>%
mutate(week = lubridate::week(timestamp)) %>%
group_by(week, title) %>%
summarise(students = length(unique(id)),
accesses = n())
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title)
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10() +
scale_size_continuous(trans = "sqrt")
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10() +
scale_size_continuous(trans = "exp")
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10() +
scale_size_continuous(trans = "log1p")
?scale
?scale_size
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10() +
scale_size_continuous(trans = "sqrt")
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
aa_table <- aa %>%
group_by(title) %>%
summarise(students = length(unique(id)),
accesses = n())
aa_table
aa_grp_w <- aa %>%
mutate(week = lubridate::week(timestamp)) %>%
group_by(week, title) %>%
summarise(students = length(unique(id)),
clicks = n())
aa_grp_w %>%
ggplot(aes(x = week, y = accesses, size = students)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
aa_grp_w %>%
ggplot(aes(x = week, y = clicks, size = students, color = week)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
aa_grp_w %>%
ggplot(aes(x = week, y = clicks, size = students, color = clicks)) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
aa_grp_w %>%
ggplot(aes(x = week, y = clicks, size = students, color = log(clicks))) +
scale_color_continuous(guide = FALSE) +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
?scale_color_continuous
aa_grp_w %>%
ggplot(aes(x = week, y = clicks, size = students, color = log(clicks))) +
scale_color_gradient(guide = FALSE, low = "darkblue", high = "red10") +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
aa_grp_w %>%
ggplot(aes(x = week, y = clicks, size = students, color = log(clicks))) +
scale_color_gradient(guide = FALSE, low = "darkblue", high = "red") +
geom_point(alpha = 0.5) +
facet_wrap(~ title) +
scale_y_log10()
write_csv(aa_table, path = file.path('~', 'Data', 'ad hoc', 'ITC161 201930 W D item activity.csv'))
aa
options(tibble.width = 6)
aa
options(tibble.width = NULL)
aa
aa$web_url %>% unique()
names(aa)
aa$title %>% unique()
aa$data %>% unique()
aa$data %>% unique() str_detect("you")
aa$data %>% unique() %>% str_detect("you")
aa$data %>% unique() %>% str_detect("you") %>% sum()
aa$data %>% unique() %>% str_detect("ube") %>% sum()
install.packages('citr')

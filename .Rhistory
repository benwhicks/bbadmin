list.files()
list.files("~")
datdir <- "~/Data"
list.files(datdir)
library(tidyverse)
qdf <- read_csv("~/Data/SciLastAccess.csv")
qdf <- read_csv("~/Data/SciLastAccess.csv", col_names = c("Timestamp", "Type", "Name"))
qdf <- read_csv("~/Data/SciLastAccess.csv", col_names = c("Timestamp", "Subject", "Name"))
dim(qdf)
length(unique(qdf$Name))
head(qdf)
qdf %>% filter(str_detect(Name, "Watson"))
qdf %>% filter(str_detect(Name, "Hicks"))
list.files(datdir)
df2 <- read_csv("~/Data/allActScience_20190226.csv")
df2 <- read_csv("~/Data/allActScience_20190226.csv", col_names = c("id", "type", "data", "timestamp", "subject", "sub_code", "uuu", "name"))
df2
df2 %>% group_by(id, name) %>% summarise(access = n())
df3 <- df2 %>% group_by(id, name) %>% summarise(access = n())
View(df3)
head(df3)
list.files()
list.files("~/Data")
read_csv("~/Data/Last Site Access SCI.csv")
read_csv("~/Data/Last Site Acces SCI.csv")
read_csv("~/Data/Last Site Access SCI.csv"
)
read_csv("~/Data/Last Site Acces SCI.csv")
lastAccess <- read_csv("~/Data/Last Site Acces SCI.csv")
lastAccess %>% group_by(student_name, id, overall_last_access) %>% summarise(subjects_no_access_count = sum(is.na(last_access)))
SCIStudentsNoAccessCount <- lastAccess %>% group_by(student_name, id, overall_last_access) %>% summarise(subjects_no_access_count = sum(is.na(last_access)))
lastAccess %>% group_by(student_name, id, overall_last_access) %>% summarise(subjects_no_access_count = sum(is.na(last_access))) %>% arrange(desc(subjects_no_access_count))
lastAccess %>% filter(str_detect(student_name, "Rose"))
lastAccess %>% filter(str_detect(student_name, "Rahi"))
lastAccess %>% filter(str_detect(student_name, "Rahi")) %>% View()
read_csv("~/Data/Last Site Acces SCI.csv")
lastAccess <- read_csv("~/Data/Last Site Acces SCI.csv")
lastAccess %>% filter(str_detect(student_name, "Rahi")) %>% View()
lastAccess %>% group_by(student_name, id, overall_last_access) %>% summarise(subjects_no_access_count = sum(is.na(last_access))) %>% arrange(desc(subjects_no_access_count))
lastAccess %>% group_by(student_name, id, overall_last_access) %>% summarise(subjects_no_access_count = sum(is.na(last_access))) %>% arrange(desc(subjects_no_access_count)) %>% write_csv(path = "~/Desktop/SCI no access.csv")
SCIStudentsNoAccessCount <- lastAccess %>% group_by(student_name, id, overall_last_access) %>% summarise(subjects_no_access_count = sum(is.na(last_access))) %>% arrange(desc(subjects_no_access_count))
write_csv(SCIStudentsNoAccessCount, path = ~/Desktop/sci no access counter.csv)
write_csv(SCIStudentsNoAccessCount, path = ~//Desktop/sci no access counter.csv)
write_csv(SCIStudentsNoAccessCount, path = "~/Desktop/sci no access counter.csv")
write_csv(SCIStudentsNoAccessCount, path = "~/Data/sci no access counter.csv")
aa <- read_csv("~/Data/acc sample.csv")
# Admin Tools
library(tidyverse)
aa <- read_csv("~/Data/acc sample.csv")
list.files("~/Data")
scihistw0 <- read_csv("~/Data/hits sci week ending 201917.csv")
scihistw0 <- read_csv("~/Data/hits sci week ending 20190217.csv")
scihistw1 <- read_csv("~/Data/hits sci week ending 20190224.csv")
scihistw1 <- read_csv("~/Data/hits sci week ending 20190224.csv")
scihistw0$week <- 0
scihistw1$week <- 1
lastAccess <- read_csv("~/Data/Last Site Acces SCI.csv")
lastAccessOverall <- lastAccess %>%
group_by(student_name, id, overall_last_access) %>%
summarise(subjects_no_access_count = sum(is.na(last_access))) %>%
arrange(desc(subjects_no_access_count))
lastAccessOverall
lastAccess %>% filter(str_detect(student_name, "Morris, J"))
lastAccessOverall <- lastAccess %>% unique() %>%
mutate(sub_list = conca)
lastAccess <- read_csv("~/Data/Last Site Acces SCI.csv")
lastAccessOverall <- lastAccess %>% unique() %>%
group_by(student_name, id, overall_last_access) %>%
summarise(subjects_no_access_count = sum(is.na(last_access))) %>%
arrange(desc(subjects_no_access_count))
lastAccess
lastAccessOverall
lastAccessOverall <- lastAccess %>% unique() %>%
group_by(student_name, id, overall_last_access) %>%
summarise(subjects_no_access_count = sum(is.na(last_access))) %>%
unique() %>%
arrange(desc(subjects_no_access_count))
lastAccessOverall
lastAccess %>% filter(str_detect(student_name, "Morris, J"))
lastAccess %>% filter(str_detect(student_name, "Morris, J")) %>% arrange(course)
lastAccess %>% filter(str_detect(student_name, "Morris, J")) %>% arrange(course) %>% View()
lastAccess %>% spread(last_access)
lastAccess %>% spread(key = course, value = last_access)
lastAccess
lastAccess <- lastAccess %>% unique()
lastAccess %>% spread(key = course, value = last_access)
lastAccess <- read_csv("~/Data/Last Site Acces SCI.csv") %>% unique() %>% mutate(last_access = max(last_access, na.rm = T))
lastAccessOverall <- lastAccess %>% unique() %>%
group_by(student_name, id, overall_last_access) %>%
summarise(subjects_no_access_count = sum(is.na(last_access))) %>%
unique() %>%
arrange(desc(subjects_no_access_count))
lastAccess %>% spread(key = course, value = last_access)
lastAccess[c(3874,9020),]
lastAccess <- read_csv("~/Data/Last Site Acces SCI.csv") %>% mutate(last_access = max(last_access, na.rm = T))%>% unique()
lastAccess %>% spread(key = course, value = last_access)
access <- lastAccess %>% spread(key = course, value = last_access)
View(access)
lastAccess
write_csv(lastAccess, path = "~/Data/sample_last_access.csv")
datdir <- "D:\\Users\\bhicks\\Documents\\Data\\BbAdmin\\"
list.files(datdir)
# HEPPP project merging data
library(tidyverse)
# HEPPP project merging data
library(tidyverse)
install.packages("Rcpp")
# HEPPP project merging data
library(tidyverse)
install.packages("tidyverse")
# HEPPP project merging data
library(tidyverse)
df1 <- read_csv(file.choose())
# HEPPP project merging data
library(tidyverse)
df1 <- read_csv(file.choose())
install.packages('glue')
# HEPPP project merging data
library(tidyverse)
install.packages('colorspace')
# HEPPP project merging data
library(tidyverse)
install.packages('lazyeval')
# HEPPP project merging data
library(tidyverse)
install.packages('stringi')
# HEPPP project merging data
library(tidyverse)
df1 <- read_csv(file.choose())
df2 <- read_csv(file.choose())
df <- merge(df1, df2, all.x = T)
head(df)
unique(df1$childcourse)
df$childcourse <- NULL
write_csv(df, path = paste0(datdir, "academic health check merged 20190322.csv"))
df <- merge(df1, df2 %>% select(id, subject_name, total_access_minutes, avg_access_minutes, access), all.x = T)
df <- merge(df1, df2 %>% select(id, subject_name, total_access_minutes, avg_access_minutes, accesses), all.x = T)
df1 <- read_csv(file.choose())
df <- merge(df1, df2 %>% select(id, subject_name, total_access_minutes, avg_access_minutes, accesses), all.x = T)
df1 <- read_csv(file.choose())
head(df1)
df2 <- read_csv(file.choose())
df <- merge(df1, df2 %>% select(id, subject_name, total_access_minutes, avg_access_minutes, accesses), all.x = T)
write_csv(paste0(datdir, "academic health check - merged 20190322.csv"))
write_csv(df, paste0(datdir, "academic health check - merged 20190322.csv"))
library(tidyverse)
df <- read_csv(file.choose())
View(df)
df %>% filter(str_detect(data, "outline|Outline|Subject|subject"))
df %>% filter(str_detect(data, "outline|Outline|Subject|subject")) %>% select(data)
df %>% filter(str_detect(data, "outline|Outline")) %>% select(data)
df$data %>% uniquie()
df$data %>% unique()
df %>% filter(str_detect(data, "webapp")) %>% select(data) %>% unique()
df %>% filter(str_detect(data, "webapp")) %>% select(data) %>% unique() %>% View()
